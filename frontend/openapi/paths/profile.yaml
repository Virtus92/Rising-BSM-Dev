profile-me:
  get:
    tags:
      - Profile
    summary: Get user profile
    description: Retrieve current user profile information
    operationId: getUserProfile
    responses:
      '200':
        description: User profile
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    user:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        email:
                          type: string
                        phone:
                          type: string
                        role:
                          type: string
                        profilePicture:
                          type: string
                        createdAt:
                          type: string
                    settings:
                      type: object
                      properties:
                        language:
                          type: string
                        darkMode:
                          type: boolean
                        emailNotifications:
                          type: boolean
                        pushNotifications:
                          type: boolean
                        notificationInterval:
                          type: string
                message:
                  type: string
                  example: "Profile retrieved successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'
      '400':
        description: User not authenticated
        content:
          application/json:
            schema:
              $ref: '../schemas/error.yaml#/Error'

  put:
    tags:
      - Profile
    summary: Update user profile
    description: Update current user's profile information
    operationId: updateProfile
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - name
            properties:
              name:
                type: string
                minLength: 2
                description: Full name
              email:
                type: string
                format: email
                description: Email address
              phone:
                type: string
                description: Phone number
    responses:
      '200':
        description: Profile updated
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    user:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        email:
                          type: string
                        phone:
                          type: string
                message:
                  type: string
                  example: "Profile updated successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '400':
        $ref: '../openapi.yaml#/components/responses/ValidationError'
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'

profile-me-password:
  put:
    tags:
      - Profile
    summary: Update password
    description: Change current user's password
    operationId: updatePassword
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - currentPassword
              - newPassword
              - confirmPassword
            properties:
              currentPassword:
                type: string
                format: password
                description: Current password
              newPassword:
                type: string
                format: password
                minLength: 8
                description: New password
              confirmPassword:
                type: string
                format: password
                description: Confirm new password
    responses:
      '200':
        description: Password updated
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                message:
                  type: string
                  example: "Password updated successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '400':
        $ref: '../openapi.yaml#/components/responses/ValidationError'
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'

profile-me-picture:
  post:
    tags:
      - Profile
    summary: Upload profile picture
    description: Upload a new profile picture
    operationId: uploadProfilePicture
    requestBody:
      required: true
      content:
        multipart/form-data:
          schema:
            type: object
            required:
              - profilePicture
            properties:
              profilePicture:
                type: string
                format: binary
                description: Image file
    responses:
      '200':
        description: Profile picture updated
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    imagePath:
                      type: string
                message:
                  type: string
                  example: "Profile picture updated successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '400':
        $ref: '../openapi.yaml#/components/responses/ValidationError'
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'
  
  delete:
    tags:
      - Profile
    summary: Delete profile picture
    description: Remove current profile picture
    operationId: deleteProfilePicture
    responses:
      '200':
        description: Profile picture deleted
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                message:
                  type: string
                  example: "Profile picture deleted successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'

profile-me-activity:
  get:
    tags:
      - Profile
    summary: Get user activity log
    description: Retrieve activity history for current user
    operationId: getUserActivity
    responses:
      '200':
        description: User activity log
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    activities:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          activity:
                            type: string
                          ipAddress:
                            type: string
                          timestamp:
                            type: string
                            format: date-time
                          formattedDate:
                            type: string
                message:
                  type: string
                  example: "Activity log retrieved successfully"
                meta:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'