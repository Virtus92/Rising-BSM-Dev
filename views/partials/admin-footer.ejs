</div>
</main>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Chart.js - nur laden, wenn benötigt -->
<% if (typeof currentPath !== 'undefined' && currentPath === '/dashboard') { %>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<% } %>

<!-- Apex Charts - für fortgeschrittene Visualisierungen -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<!-- Dashboard Core JS -->

<script src="/scripts/dashboard.js" defer></script>

<!-- Dark Theme Charts Configuration -->
<script>
// Chart.js Globale Konfiguration für Dark Mode
if (typeof Chart !== 'undefined') {
  Chart.defaults.color = '#c1c8da';
  Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.05)';
  Chart.defaults.plugins.tooltip.backgroundColor = '#252a3d';
  Chart.defaults.plugins.tooltip.titleColor = '#f1f5f9';
  Chart.defaults.plugins.tooltip.bodyColor = '#c1c8da';
  Chart.defaults.plugins.legend.labels.color = '#c1c8da';
  
  // Chart Gradient-Funktion für einheitliches Design
  window.createGradient = function(ctx, colorStart, colorEnd) {
    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
    gradient.addColorStop(0, colorStart);
    gradient.addColorStop(1, colorEnd);
    return gradient;
  };
}

// ApexCharts Globale Konfiguration für Dark Mode
if (typeof ApexCharts !== 'undefined') {
  // Ensure ApexCharts.defaultOptions exists
  ApexCharts.defaultOptions = ApexCharts.defaultOptions || {};

  const apexDarkTheme = {
    mode: 'dark',
    background: 'transparent',
    foreColor: '#c1c8da',
    theme: {
      mode: 'dark',
      palette: 'palette1'
    },
    grid: {
      borderColor: 'rgba(255, 255, 255, 0.05)',
      strokeDashArray: 5
    },
    tooltip: {
      theme: 'dark'
    }
  };
  
  ApexCharts.defaultOptions = {
    ...ApexCharts.defaultOptions,
    chart: {
      ...ApexCharts.defaultOptions.chart,
      ...apexDarkTheme
    }
  };
}
</script>

<!-- Page Specific Scripts -->
<% if (typeof pageScripts !== 'undefined') { %>
<%= pageScripts %>
<% } %>
</body>
</html>