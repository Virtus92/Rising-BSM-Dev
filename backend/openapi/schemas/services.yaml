Service:
  type: object
  required:
    - id
    - name
    - preis_basis
    - einheit
  properties:
    id:
      type: integer
      description: Service ID (auto-generated)
    name:
      type: string
      description: Service name
    beschreibung:
      type: string
      nullable: true
      description: Service description
    preis_basis:
      type: number
      format: float
      description: Base price
      minimum: 0
    einheit:
      type: string
      description: Unit (e.g., hour, piece, m²)
    mwst_satz:
      type: number
      format: float
      default: 20
      description: VAT rate in percentage
    aktiv:
      type: boolean
      description: Service status (active/inactive)
    created_at:
      type: string
      format: date-time
      description: Timestamp of service creation
    updated_at:
      type: string
      format: date-time
      description: Timestamp of last update

ServiceCreate:
  type: object
  required:
    - name
    - preis_basis
    - einheit
  properties:
    name:
      type: string
      description: Service name
      minLength: 2
      maxLength: 100
    beschreibung:
      type: string
      nullable: true
      description: Service description
      maxLength: 2000
    preis_basis:
      type: number
      format: float
      description: Base price
      minimum: 0
    einheit:
      type: string
      description: Unit (e.g., hour, piece, m²)
      maxLength: 20
    mwst_satz:
      type: number
      format: float
      default: 20
      description: VAT rate in percentage
      minimum: 0
      maximum: 100
    aktiv:
      type: boolean
      default: true
      description: Service status (active/inactive)

ServiceUpdate:
  type: object
  properties:
    name:
      type: string
      description: Service name
      minLength: 2
      maxLength: 100
    beschreibung:
      type: string
      nullable: true
      description: Service description
      maxLength: 2000
    preis_basis:
      type: number
      format: float
      description: Base price
      minimum: 0
    einheit:
      type: string
      description: Unit (e.g., hour, piece, m²)
      maxLength: 20
    mwst_satz:
      type: number
      format: float
      description: VAT rate in percentage
      minimum: 0
      maximum: 100
    aktiv:
      type: boolean
      description: Service status (active/inactive)

ServiceStatusUpdate:
  type: object
  required:
    - aktiv
  properties:
    aktiv:
      type: boolean
      description: Service status (true=active, false=inactive)

ServiceStatistics:
  type: object
  properties:
    service:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        active:
          type: boolean
    usage:
      type: object
      properties:
        totalRevenue:
          type: number
        invoiceCount:
          type: integer
        monthlyRevenue:
          type: array
          items:
            type: object
            properties:
              monat:
                type: string
              umsatz:
                type: number
        topCustomers:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              name:
                type: string
              revenue:
                type: number