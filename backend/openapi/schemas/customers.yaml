Customer:
  type: object
  required:
    - id
    - name
    - status
    - type
  properties:
    id:
      type: integer
      description: Customer ID (auto-generated)
    name:
      type: string
      description: Customer name
    company:
      type: string
      nullable: true
      description: Company name
    email:
      type: string
      format: email
      description: Customer email address
    phone:
      type: string
      nullable: true
      description: Phone number
    address:
      type: string
      nullable: true
      description: Street address
    postalCode:
      type: string
      nullable: true
      description: Postal code
    city:
      type: string
      nullable: true
      description: City
    country:
      type: string
      nullable: true
      description: Country (defaults to Austria)
    notes:
      type: string
      nullable: true
      description: Notes about the customer
    newsletter:
      type: boolean
      description: Newsletter subscription status
    status:
      type: string
      enum: [active, inactive, deleted]
      description: Customer status
    statusLabel:
      type: string
      description: Formatted status label
    statusClass:
      type: string
      description: CSS class for status
    type:
      type: string
      enum: [private, business]
      description: Customer type
    typeLabel:
      type: string
      description: Formatted customer type label
    createdAt:
      type: string
      format: date-time
      description: Timestamp of customer creation
    updatedAt:
      type: string
      format: date-time
      description: Timestamp of last update

CustomerCreate:
  type: object
  required:
    - name
    - email
  properties:
    name:
      type: string
      description: Customer name
      minLength: 2
      maxLength: 100
    company:
      type: string
      description: Company name
      maxLength: 100
      nullable: true
    email:
      type: string
      format: email
      description: Customer email address
    phone:
      type: string
      description: Phone number
      maxLength: 30
      nullable: true
    address:
      type: string
      description: Street address
      maxLength: 255
      nullable: true
    postalCode:
      type: string
      description: Postal code
      maxLength: 10
      nullable: true
    city:
      type: string
      description: City
      maxLength: 100
      nullable: true
    country:
      type: string
      description: Country
      maxLength: 100
      nullable: true
      default: "Austria"
    notes:
      type: string
      description: Notes about the customer
      maxLength: 2000
      nullable: true
    newsletter:
      type: boolean
      description: Newsletter subscription status
      default: false
    status:
      type: string
      enum: [active, inactive, deleted]
      default: active
      description: Customer status
    type:
      type: string
      enum: [private, business]
      default: private
      description: Customer type

CustomerUpdate:
  type: object
  properties:
    name:
      type: string
      description: Customer name
      minLength: 2
      maxLength: 100
    company:
      type: string
      description: Company name
      maxLength: 100
      nullable: true
    email:
      type: string
      format: email
      description: Customer email address
    phone:
      type: string
      description: Phone number
      maxLength: 30
      nullable: true
    address:
      type: string
      description: Street address
      maxLength: 255
      nullable: true
    postalCode:
      type: string
      description: Postal code
      maxLength: 10
      nullable: true
    city:
      type: string
      description: City
      maxLength: 100
      nullable: true
    country:
      type: string
      description: Country
      maxLength: 100
      nullable: true
    notes:
      type: string
      description: Notes about the customer
      maxLength: 2000
      nullable: true
    newsletter:
      type: boolean
      description: Newsletter subscription status
    status:
      type: string
      enum: [active, inactive, deleted]
      description: Customer status
    type:
      type: string
      enum: [private, business]
      description: Customer type

CustomerStatusUpdate:
  type: object
  required:
    - status
  properties:
    status:
      type: string
      enum: [active, inactive, deleted]
      description: New customer status
    note:
      type: string
      description: Optional note about the status change
      maxLength: 1000

CustomerNote:
  type: object
  required:
    - text
  properties:
    text:
      type: string
      description: Note text
      minLength: 1
      maxLength: 1000

CustomerWithDetails:
  allOf:
    - $ref: '#/Customer'
    - type: object
      properties:
        projects:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              title:
                type: string
              startDate:
                type: string
              status:
                type: string
              statusLabel:
                type: string
              statusClass:
                type: string
        appointments:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              title:
                type: string
              appointmentDate:
                type: string
              status:
                type: string
              statusLabel:
                type: string
              statusClass:
                type: string
        notes:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              text:
                type: string
              userName:
                type: string
              formattedDate:
                type: string
              createdAt:
                type: string
                format: date-time

CustomerStatistics:
  type: object
  properties:
    total:
      type: integer
      description: Total number of customers
    byStatus:
      type: object
      properties:
        active:
          type: integer
        inactive:
          type: integer
        deleted:
          type: integer
      additionalProperties:
        type: integer
    byType:
      type: object
      properties:
        private:
          type: integer
        business:
          type: integer
      additionalProperties:
        type: integer
    trend:
      type: object
      properties:
        thisMonth:
          type: integer
          description: New customers in current month
        lastMonth:
          type: integer
          description: New customers in previous month
        growthRate:
          type: number
          format: float
          description: Growth rate percentage