dashboard:
  get:
    tags:
      - Dashboard
    summary: Get dashboard data
    description: Retrieve comprehensive dashboard data including statistics, charts, and recent activities
    operationId: getDashboardData
    parameters:
      - in: query
        name: revenueFilter
        schema:
          type: string
          enum: [Letzten 30 Tage, Letzten 3 Monate, Letzten 6 Monate, Dieses Jahr]
          default: Letzten 6 Monate
        description: Filter for revenue chart
      - in: query
        name: servicesFilter
        schema:
          type: string
          enum: [Diese Woche, Diesen Monat, Dieses Quartal, Dieses Jahr]
          default: Diesen Monat
        description: Filter for services chart
    responses:
      '200':
        description: Dashboard data
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    stats:
                      type: object
                      properties:
                        newRequests:
                          type: object
                          properties:
                            count:
                              type: integer
                            trend:
                              type: integer
                        activeProjects:
                          type: object
                          properties:
                            count:
                              type: integer
                            trend:
                              type: integer
                        totalCustomers:
                          type: object
                          properties:
                            count:
                              type: integer
                            trend:
                              type: integer
                        monthlyRevenue:
                          type: object
                          properties:
                            amount:
                              type: number
                            trend:
                              type: integer
                    charts:
                      type: object
                      properties:
                        revenue:
                          type: object
                          properties:
                            labels:
                              type: array
                              items:
                                type: string
                            data:
                              type: array
                              items:
                                type: number
                        services:
                          type: object
                          properties:
                            labels:
                              type: array
                              items:
                                type: string
                            data:
                              type: array
                              items:
                                type: number
                    recentRequests:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          name:
                            type: string
                          dateLabel:
                            type: string
                          status:
                            type: string
                    upcomingAppointments:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          title:
                            type: string
                          dateLabel:
                            type: string
                          customer:
                            type: string
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'

dashboard-stats:
  get:
    tags:
      - Dashboard
    summary: Get dashboard statistics
    description: Retrieve overview statistics for dashboard
    operationId: getDashboardStats
    responses:
      '200':
        description: Dashboard statistics
        content:
          application/json:
            schema:
              type: object
              properties:
                newRequests:
                  type: object
                  properties:
                    count:
                      type: integer
                    trend:
                      type: integer
                activeProjects:
                  type: object
                  properties:
                    count:
                      type: integer
                    trend:
                      type: integer
                totalCustomers:
                  type: object
                  properties:
                    count:
                      type: integer
                    trend:
                      type: integer
                monthlyRevenue:
                  type: object
                  properties:
                    amount:
                      type: number
                    trend:
                      type: integer
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'

dashboard-search:
  get:
    tags:
      - Dashboard
    summary: Global search
    description: Search across customers, projects, appointments, and services
    operationId: globalSearch
    parameters:
      - in: query
        name: q
        required: true
        schema:
          type: string
          minLength: 2
        description: Search query string
      - in: query
        name: limit
        schema:
          type: integer
          default: 10
        description: Maximum results per category
    responses:
      '200':
        description: Search results
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                customers:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      email:
                        type: string
                      type:
                        type: string
                      matchField:
                        type: string
                projects:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      title:
                        type: string
                      customer:
                        type: string
                      status:
                        type: string
                      matchField:
                        type: string
                appointments:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      title:
                        type: string
                      date:
                        type: string
                      status:
                        type: string
                      matchField:
                        type: string
                services:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      price:
                        type: number
                      matchField:
                        type: string
      '400':
        description: Invalid search query
        content:
          application/json:
            schema:
              $ref: '../schemas/error.yaml#/Error'
      '401':
        $ref: '../openapi.yaml#/components/responses/UnauthorizedError'