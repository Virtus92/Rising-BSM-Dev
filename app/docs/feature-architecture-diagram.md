# Feature-Based Architecture Diagrams

## Feature Module Structure

```
┌─────────────────────────────────────────┐
│              Feature Module             │
└┬────────────┬─────────────┬────────────┬┘
 │            │             │            │
 ▼            ▼             ▼            ▼
┌─────┐    ┌────────┐   ┌───────┐   ┌──────┐
│ API │    │ Compo- │   │ Hooks │   │ Lib  │
│     │    │ nents  │   │       │   │      │
└┬──┬─┘    └────┬───┘   └───┬───┘   └┬────┬┘
 │  │           │           │        │    │
 │  │           │           │        │    │
 ▼  ▼           │           │        ▼    ▼
┌──────┐ ┌─────┐│           │    ┌───────┐┌──────────┐
│Models │ │Route││           │    │Clients││Repository│
└──────┘ └─────┘│           │    └───┬───┘└────┬─────┘
                │           │        │         │
                │           │        │         │
                │           │        ▼         ▼
                │           │     ┌──────────────┐
                │           └────►│   Services   │◄─┐
                │                 └──────────────┘  │
                └─────────────────────────────────┘
```

## Communication Between Features

```
┌──────────────────────────────────────────────────────────────┐
│                        Domain Layer                           │
│                                                              │
│  ┌──────────────┐    ┌─────────────┐    ┌────────────────┐   │
│  │   Entities   │    │    DTOs     │    │   Interfaces   │   │
│  └──────────────┘    └─────────────┘    └────────────────┘   │
└──────────────────────────────────────────────────────────────┘
                 ▲                 ▲                 ▲
                 │                 │                 │
                 │                 │                 │
┌────────────────┼─────┐  ┌────────┼─────────┐  ┌───┼────────────────┐
│   Feature A    │     │  │        │         │  │   │   Feature B    │
│                │     │  │        │         │  │   │                │
│  ┌─────────────▼──┐  │  │ ┌──────▼───────┐ │  │ ┌─▼──────────────┐ │
│  │   Service A    │  │  │ │ Service Reg. │ │  │ │   Service B    │ │
│  └────────────────┘  │  │ └──────────────┘ │  │ └────────────────┘ │
│          │           │  │        │         │  │         │          │
└──────────┼───────────┘  └────────┼─────────┘  └─────────┼──────────┘
           │                       │                      │
           │                       ▼                      │
           │              ┌─────────────────┐             │
           └─────────────►│    Event Bus    │◄────────────┘
                          └─────────────────┘
```

## Data Flow

```
┌─────┐      ┌─────────┐      ┌─────┐      ┌────────┐      ┌────────┐      ┌────────┐
│ UI  │ ───► │Component│ ───► │Hook │ ───► │Service │ ───► │Reposit.│ ───► │Database│
│     │ ◄─── │         │ ◄─── │     │ ◄─── │        │ ◄─── │        │ ◄─── │        │
└─────┘      └─────────┘      └─────┘      └────────┘      └────────┘      └────────┘
   │              │              │             │               │
   │              │              │             │               │
   │              │              │             │               │
   ▼              ▼              ▼             ▼               ▼
 User        React UI       App State     Business      Data Access
Interaction   Elements      Management      Logic          Layer
```

## Layered Architecture Within Features

```
┌───────────────────────────────────────────────────────────────┐
│                          Feature                              │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐    │
│  │                    Presentation                        │    │
│  │                                                        │    │
│  │  ┌─────────────┐              ┌───────────────────┐   │    │
│  │  │  Components │              │      Hooks        │   │    │
│  │  └─────┬───────┘              └────────┬──────────┘   │    │
│  └────────┼────────────────────────────────┼──────────────    │
│           │                                │                   │
│  ┌────────▼────────────────────────────────▼──────────────┐   │
│  │                    Application                          │   │
│  │                                                         │   │
│  │  ┌─────────────┐              ┌───────────────────┐    │   │
│  │  │   Services  │◄─────────────┤  API Clients      │    │   │
│  │  └─────┬───────┘              └───────────────────┘    │   │
│  └────────┼─────────────────────────────────────────────────  │
│           │                                                    │
│  ┌────────▼────────────────────────────────────────────────┐  │
│  │                    Infrastructure                        │  │
│  │                                                          │  │
│  │  ┌────────────────────────────────────────────────────┐ │  │
│  │  │                   Repositories                      │ │  │
│  │  └────────────────────────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────│
│                                                                │
│  ┌────────────────────────────────────────────────────────┐   │
│  │                       Domain                            │   │
│  │                                                         │   │
│  │  ┌─────────────┐              ┌───────────────────┐    │   │
│  │  │ Interfaces  │              │     Entities      │    │   │
│  │  └─────────────┘              └───────────────────┘    │   │
│  └─────────────────────────────────────────────────────────── │
└───────────────────────────────────────────────────────────────┘
```

## Feature Dependencies

```
                     ┌─────────────────┐
                     │      Core       │
                     │ Infrastructure  │
                     └─────────────────┘
                              ▲
                              │
                     ┌────────┴────────┐
                     │     Domain      │
                     └────────┬────────┘
                              ▲
                              │
         ┌──────────┬─────────┼─────────┬──────────┐
         │          │         │         │          │
         ▼          ▼         ▼         ▼          ▼
    ┌─────────┐┌─────────┐┌─────────┐┌─────────┐┌─────────┐
    │  Auth   ││Permission││Customers││Requests ││Appointm.│
    └─────────┘└─────┬───┘└────┬────┘└────┬────┘└────┬────┘
         ▲          ▲│         │▲         │▲         │▲
         │           │         ││         ││         ││
         └───────────┘         ││         ││         ││
         │           │         ││         ││         ││
         │           └─────────┘│         ││         ││
         │                      │         ││         ││
         └──────────────────────┘         ││         ││
         │                                ││         ││
         └────────────────────────────────┘│         ││
         │                                 │         ││
         └─────────────────────────────────┘         ││
         │                                           ││
         └───────────────────────────────────────────┘│
         │                                            │
         └────────────────────────────────────────────┘
```

## Feature Dependency Legend

```
Auth Feature:
- Core dependencies: Core infrastructure, Domain interfaces
- No dependencies on other features

Permission Feature:
- Core dependencies: Core infrastructure, Domain interfaces
- Dependencies: Auth feature (for user role checking)

Customers Feature:
- Core dependencies: Core infrastructure, Domain interfaces
- Dependencies: Auth feature, Permission feature

Requests Feature:
- Core dependencies: Core infrastructure, Domain interfaces
- Dependencies: Auth feature, Permission feature, Customers feature

Appointments Feature:
- Core dependencies: Core infrastructure, Domain interfaces
- Dependencies: Auth feature, Permission feature, Customers feature, Requests feature
```